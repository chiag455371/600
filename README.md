# 私域電商 CRM 系統

**多語言圖片導向私域銷售網站 + 完整 CRM 後台管理系統**

---

## 📋 項目概述

這是一個專為**移工市場**設計的封閉式私域電商系統,主要銷售小家電商品 (18類/200+商品)。

### 核心特色

✅ **100% 免費實現** - 無需任何付費 SaaS 或第三方服務  
✅ **多語言支援** - 越南文、泰文、英文(菲律賓)、印尼文、繁體中文  
✅ **圖片導向** - 商品展示以圖片為主,無需文字檔  
✅ **聯盟追蹤系統** - 自動追蹤來源並計算傭金  
✅ **LINE 私域整合** - 下單後引導客戶加入 LINE 完成交易  
✅ **完整 CRM 後台** - 訂單管理、商品管理、聯盟管理  

---

## 🚀 快速開始

### 前台訪問

1. **首頁 (語言選擇)**: `index.html`
2. **商品瀏覽**: `shop.html?lang=vi` (vi/th/en/id)
3. **商品詳情**: `product.html?id=prod001&lang=vi`

### 後台訪問

- **後台登入**: `/admin/`
- **預設帳號**: `admin`
- **預設密碼**: `admin123`

---

## 📦 功能清單

### ✅ 前台客戶端功能

| 功能 | 狀態 | 說明 |
|------|------|------|
| 語言選擇 | ✅ 完成 | 支援 4 國語言 + 中文 |
| 商品瀏覽 | ✅ 完成 | 分類瀏覽、圖片展示 |
| 商品詳情 | ✅ 完成 | 多語言圖片 Fallback 機制 |
| 訂單表單 | ✅ 完成 | 姓名、LINE、數量、宿舍 |
| LINE 跳轉 | ✅ 完成 | 下單後自動跳轉 LINE |
| 聯盟追蹤 | ✅ 完成 | URL 參數 + Cookie 保存 |

### ✅ 後台管理功能

| 功能 | 狀態 | 說明 |
|------|------|------|
| 管理員登入 | ✅ 完成 | 簡易前端認證 |
| Dashboard | ✅ 完成 | 統計數據、最新訂單 |
| 商品管理 | ✅ 完成 | CRUD + 多語言圖片管理 |
| 分類管理 | ✅ 完成 | 多語言分類 CRUD |
| 訂單管理 | ✅ 完成 | 列表、搜尋、狀態更新 |
| 聯盟管理 | ✅ 完成 | CRUD + QR Code 生成 + 統計 |
| CSV 匯出 | ✅ 完成 | 訂單資料匯出 |
| 系統設定 | ✅ 完成 | LINE URL、分類管理 |

---

## 🗂️ 資料表結構

### 1. categories (商品分類)

```
- id: 分類ID
- name_zh/vi/th/en/id: 多語言名稱
- visible: 是否顯示
- sort_order: 排序
```

### 2. products (商品)

```
- id: 商品ID
- category_id: 分類ID
- name_zh/vi/th/en/id: 多語言名稱
- img_zh/vi/th/en/id: 多語言圖片 URL
- price: 參考價格
- visible: 是否顯示
- sort_order: 排序
```

### 3. orders (訂單)

```
- id: 訂單ID
- order_no: 訂單編號
- customer_name: 客戶姓名
- line_id: LINE ID/電話
- language: 語言別 (vi/th/en/id)
- product_id/product_name: 商品資訊
- quantity: 數量
- dorm: 宿舍/站點
- affiliate_id/affiliate_name: 聯盟資訊
- commission: 傭金金額 (NT$)
- status: 訂單狀態
- note: 備註
```

### 4. affiliates (聯盟成員)

```
- id: 聯盟ID
- name: 成員名稱
- station: 所屬站點
- commission_per_item: 單件傭金 (預設 NT$150)
- active: 是否啟用
- contact: 聯絡方式
- note: 備註
```

### 5. settings (系統設定)

```
- id: 設定KEY
- value: 設定值
- description: 說明
```

---

## 🔗 功能入口清單

### 前台路由

| 路徑 | 參數 | 功能 |
|------|------|------|
| `/index.html` | `?affiliate_id=xxx` | 語言選擇 + 聯盟追蹤 |
| `/shop.html` | `?lang=vi` | 商品列表 (vi/th/en/id) |
| `/product.html` | `?id=prod001&lang=vi` | 商品詳情 + 訂單表單 |

### 後台路由

| 路徑 | 功能 |
|------|------|
| `/admin/index.html` | 登入頁面 |
| `/admin/dashboard.html` | 儀表板 |
| `/admin/products.html` | 商品管理 |
| `/admin/orders.html` | 訂單管理 |
| `/admin/affiliates.html` | 聯盟成員管理 |
| `/admin/settings.html` | 系統設定 |

---

## 🎯 聯盟追蹤機制

### 原理

1. **生成專屬連結**: `/index.html?affiliate_id=aff001`
2. **生成 QR Code**: 後台自動生成
3. **追蹤**: URL 參數自動儲存到 Cookie (30天)
4. **綁定**: 客戶下單時自動綁定 affiliate_id
5. **計算傭金**: 自動計算並記錄到訂單

### 統計功能

- 導入訂單數量
- 累計傭金金額
- 訂單明細查詢

---

## 💰 傭金計算規則

- **預設傭金**: NT$ 150 / 件
- **可自訂**: 後台可為每個聯盟成員設定不同傭金
- **自動計算**: 下單時自動計算 `傭金 = 單價 × 數量`

---

## 🌐 多語言圖片管理

### Fallback 機制

當某語言圖片不存在時,自動依序尋找:

```
當前語言圖片 → 英文圖片 → 中文圖片 → 預設佔位圖
```

### 圖片管理策略

1. **初期**: 僅上傳中文圖片 (自動 Fallback)
2. **逐步補充**: 後台逐步補充各語言版本圖片
3. **標示**: 商品卡片顯示已有哪些語言版本 (🇻🇳🇹🇭🇵🇭🇮🇩)

---

## 📊 訂單狀態流程

```
新訂單 → 已聯絡 → 已出貨 → 已完成
          ↓
        已取消
```

- **新訂單**: 客戶剛送出
- **已聯絡**: 管理員已透過 LINE 聯絡
- **已出貨**: 商品已配送
- **已完成**: 交易完成
- **已取消**: 訂單取消

---

## 🛠️ 技術架構

### 前端技術

- **HTML5/CSS3/JavaScript** (純前端)
- **Tailwind CSS** (快速響應式開發)
- **Font Awesome** (圖示)
- **QRCode.js** (QR Code 生成)

### 資料儲存

- **RESTful Table API** (內建資料庫)
- **LocalStorage** (語言偏好)
- **Cookie** (聯盟追蹤)

### 特色功能

- ✅ 無需後端伺服器
- ✅ 無需資料庫安裝
- ✅ 100% 靜態網站
- ✅ 一鍵部署

---

## 📱 行動裝置優化

- ✅ 響應式設計 (手機優先)
- ✅ 觸控優化
- ✅ 大按鈕設計 (易於操作)
- ✅ 簡化流程 (3步完成下單)

---

## 🔐 安全性說明

⚠️ **注意**: 當前為簡易前端認證,適合內部使用。

**生產環境建議**:
- 使用後端 API 進行認證
- 加入 JWT Token 機制
- 限制 IP 訪問
- 啟用 HTTPS

---

## 📈 未來擴充計畫

### 短期計畫

- [ ] Email 通知系統 (EmailJS 免費版)
- [ ] 批次上傳商品
- [ ] 訂單備註編輯
- [ ] 聯盟業績排行榜

### 中期計畫

- [ ] 多角色權限管理 (檢視用帳號)
- [ ] 商品庫存管理
- [ ] 客戶評價系統
- [ ] LINE Bot 整合

### 長期計畫

- [ ] 自動化對帳系統
- [ ] 傭金自動結算
- [ ] 數據分析儀表板
- [ ] 多幣別支援

---

## 📝 使用說明

### 管理員首次使用

1. **登入後台**: `/admin/` (admin / admin123)
2. **設定 LINE URL**: 系統設定 → LINE 官方帳號
3. **新增分類**: 系統設定 → 商品分類管理
4. **新增商品**: 商品管理 → 新增商品
5. **新增聯盟成員**: 聯盟成員 → 新增成員
6. **生成 QR Code**: 點擊聯盟成員的 QR 圖示

### 聯盟成員使用

1. 取得專屬連結或 QR Code
2. 分享給潛在客戶
3. 追蹤業績 (管理員可查看統計)

### 客戶使用流程

1. 掃描 QR Code 或點擊連結 (自動綁定聯盟ID)
2. 選擇語言
3. 瀏覽商品
4. 點擊「我要訂購」
5. 填寫表單
6. 送出訂單
7. 加入 LINE 官方帳號
8. 等待管理員聯絡確認

---

## 🎨 主題色彩

- **主色**: Purple/Indigo 漸層 (#667eea → #764ba2)
- **輔色**: 狀態顏色 (橙/藍/綠/紅/灰)
- **風格**: 現代、簡潔、高對比

---

## 📧 技術支援

如有問題請聯繫:
- 系統開發者
- 或查閱程式碼註解

---

## 📄 授權

本專案為客製化開發,版權歸專案擁有者所有。

---

## 🎉 系統特點總結

1. **零成本**: 無需任何付費服務
2. **易使用**: 介面簡潔,操作直觀
3. **多語言**: 完整支援 5 國語言
4. **可擴展**: 架構清晰,易於擴充
5. **行動優先**: 專為手機使用者設計
6. **聯盟系統**: 完整的推廣追蹤機制
7. **私域導向**: 引導至 LINE 完成交易

---

**版本**: v1.0.0  
**最後更新**: 2026-01-18  
**狀態**: ✅ 已完成核心功能,可投入使用
